# ?????? ??????
# 1.????????? ????????? ???????????? ??? ?????? ???????????? ??????
# 2.????????? ????????? ?????? c() Combind ?????? ????????? ??????
# 3.???????????? ?????? ?????? ?????? []??? ???????????????.
colors=c('red','blue','green') #?????? ??????

print(colors[1]) #ctrl+shift+s
print(colors[c(2,3)]) # ???????????? ?????? ??? ?????? ???

#**** ????????? ????????? ??????
#ifelse: ?????? ~ ??????
x=c(1,2,3,4,5)
result=ifelse(x %% 2 == 0, '??????','??????')
print(result)
#??????????????????
#??????(???)??? ??????(???)??? ?????? ?????????

#????????????
id=c(1,2,3)
name=c('?????????','?????????','?????????')
age=c(20,30,40)
# ?????????????????? ??????
df=data.frame(id,name,age) #????????? ????????? ????????????????????????.
#View(df)

# EMPNO : ????????????
# ENAME : ?????????
# JOB   : ??????
# MGR   : ????????????
# HIREDATE : ????????????
# SAL : ??????
# COMM : ?????????(?????????)
# DEPTNO : ????????????


emp = data.frame(
  empNO = c(7369, 7499, 7521, 7566, 7698, 7782, 7788, 7839, 7844, 7900),
  ENAME = c("SMITH", "ALLEN", "WARD", "JONES", "BLAKE", "CLARK", "SCOTT", "KING", "TURNER", "ADAMS"),
  JOB = c("CLERK", "SALESMAN", "SALESMAN", "MANAGER", "MANAGER", "MANAGER", "ANALYST", "PRESIDENT", "SALESMAN", "CLERK"),
  MGR = c(7902, 7698, 7698, 7839, 7839, 7839, 7566, NA, 7698, 7788),
  HIREDATE = as.Date(c("1980-12-17", "1981-02-20", "1981-02-22", 
                       "1981-04-02", "1981-05-01", "1981-06-09",
                       "1982-12-09", "1981-11-17", "1981-09-08",
                       "1983-01-12")),
  SAL = c(800, 1600, 1250, 2975, 2850, 2450, 3000, 5000, 1500, 1100),
  COMM = c(NA, 300, 500, NA, NA, NA, NA, NA, NA, NA),
  DEPTNO = c(20, 30, 30, 20, 30, 10, 20, 10, 30, 20))
# View(emp)
# ?????????????????? ??????
# ***????????? ????????? ?????? ??????
str(emp) # structure (??????)

#1????????? 6????????? ??????
print(head(emp))
#1????????? 2????????? ??????
print(head(emp,2))
#????????? ?????? 6????????? ??????
print(tail(emp))
#????????? ?????? 2????????? ??????
print(tail(emp,2))
# ?????? ????????????
print(colnames(emp))
# ?????? ??? ?????? ??????
# dim: dimension (??????)
print(dim(emp))#10??? 8???

# ?????????????????? ?????? ??? ??????
# ?????? ????????? ??????
cat('?????? ??????:',emp$ENAME,'\n')
# ?????? ????????? ??????
cat('???????????? : ', emp$DEPTNO, '\n')
#????????? ??? ??????
emp$bonus=100

#View(emp) # ??????
# ????????? ????????? -> ????????? ??????
# file=emp.csv : ????????? ?????? ??????'
# row.names=FALSE:??? ??????    
# write.csv(emp,file='emp.csv', row.names= FALSE)

# ????????????
# ?????? ??????, ??????, ?????????, ????????? ...
# R??? ???????????? ???????????? ????????? ??????

# ?????? ??????
x=c(10,20,30,40,50)
# ?????????
# ????????? = min(x)
# ????????? = max(x)
# ?????? = sum(x)
# ?????? = mean(x)
#sd: standard deviation
# ???????????? = sd(x)

# ???????????????????????? ?????? ???(?????? ??????)
# cat??? ???????????? emp??? ????????? ??????
cat('?????? ?????? : ', emp$SAL, '\n')

# ?????? ?????? ?????? ?????????
cat('?????? ?????? ??????: ', mean(emp$SAL), '\n')
# ?????? ?????? ??????
cat('?????? ?????? ??????: ', sum(emp$SAL), '\n')
# ?????? ?????? ?????????
cat('?????? ?????? ??????: ', max(emp$SAL), '\n')
# ?????? ?????? ?????????
cat('?????? ?????? ??????: ', min(emp$SAL), '\n')

# COMM: ???????????? ?????? ?????????
# na.rm = TRUE: ?????? ??? NA??? ????????? ?????? x
# rm : remove(??????)
print(sum(emp$COMM, na.rm= TRUE)) 

# ?????????(?????????)??? ????????? ??? ??????
# ??????????????? 3000 ???????????? High ???????????? Low ?????????.
emp$Grade = ifelse(emp$SAL >= 3000, 'High', 'Low')
# View(emp) # ????????????
# ?????? ??? ??????
emp$bonus = emp$bonus * 2
# View(emp) # ????????? * 2 ??????
# ?????? ????????? ?????? ????????????
# ?????? ?????? ??????
print(Sys.Date())
# difftime : ?????? ?????? ??????
# ???, ?????? ???(??????)??? ?????????????????? ?????????(as.Date)????????? ?????????.
cat('?????? ?????????: ', difftime(Sys.Date(), emp$HIREDATE), '\n')

# ?????????????????? ??? ?????? ?????????
# ??????: ??????????????????[?????????, ?????????]
# ??????. ??????????????? 2000 ????????? ???????????? ??????
result = emp[emp$SAL >= 2000, c('ENAME', 'SAL')]
print(result)
# ??????. ??????(JOB)??? SALESMAN??? ????????? ????????? ??????, ???????????? ??????
# ==(???????????????)
result2=emp[emp$JOB == 'SALESMAN', c('ENAME','JOB','HIREDATE') ]
print(result2)
# ??????. ????????? 1500 ?????? 3000 ????????? ?????? ??????
# &(and?????????) ??? ?????? ??????
result3 = emp[emp$SAL >= 1500 & emp$SAL <= 3000, ]
print(result3)
# ??????. ?????????(COMM)??? ?????? ????????????(NA ??????)
# is.na() : na ????
x = c(1,2,NA,4)
print(is.na(x)) # FALSE FLASE TRUE FALSE
# ! : ??????,??????
print(!is.na(x)) # TRUE TRUE FLASE TRUE
# COMM??? NA??? ?????? ????????????
print(emp[!is.na(emp$COMM), c('ENAME','COMM')])

